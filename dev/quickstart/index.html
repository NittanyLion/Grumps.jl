<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Quick start · Grumps.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Grumps.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../estimators/">Estimators</a></li><li class="is-active"><a class="tocitem" href>Quick start</a></li><li><a class="tocitem" href="../objects/">User interface</a></li><li><a class="tocitem" href="../spreadsheet/">Spreadsheet formats</a></li><li><a class="tocitem" href="../example/">Example program</a></li><li><a class="tocitem" href="../tutorial/">Charlie&#39;s tutorial</a></li><li><a class="tocitem" href="../speedmemory/">Speed, memory, accuracy</a></li><li><a class="tocitem" href="../bearinmind/">Things to bear in mind</a></li><li><a class="tocitem" href="../extending/">Extending Grumps</a></li><li><a class="tocitem" href="../aliens/">Languages other than Julia</a></li><li><a class="tocitem" href="../structure/">Directory structure</a></li><li><a class="tocitem" href="../flow/">Algorithm flow</a></li><li><a class="tocitem" href="../misc/">Miscellanea</a></li><li><a class="tocitem" href="../acknowledgments/">Acknowledgments</a></li><li><a class="tocitem" href="../license/">License</a></li><li><a class="tocitem" href="../versions/">Versions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Quick start</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Quick start</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NittanyLion/Grumps.jl/blob/main/docs/src/quickstart.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h3 id="Quick-Start-Guide"><a class="docs-heading-anchor" href="#Quick-Start-Guide">Quick Start Guide</a><a id="Quick-Start-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start-Guide" title="Permalink"></a></h3><p>To use <strong>Grumps.jl</strong> consider the following program, which computes the penalized maximum likelihood estimator of Grieco, Murry, Pinkse, and Sagl.</p><pre><code class="nohighlight hljs">using Grumps



function myprogram(  )

    @info &quot;setting source files&quot;
    s = Sources(
        consumers = &quot;example_consumers.csv&quot;,
        products = &quot;example_products.csv&quot;,
        marketsizes = &quot;example_marketsizes.csv&quot;,
        draws = &quot;example_draws.csv&quot;  
    )
    println( s )

     v = Variables(
        interactions =  [
            :income :constant; 
            :income :ibu; 
            :age :ibu
            ],
        randomcoefficients =  [:ibu; :abv],
        regressors =  [ :constant; :ibu; :abv ],
        instruments = [ :constant; :ibu; :abv; :IVgh_ibu; :IVgh_abv ],
        outsidegood = &quot;outside&quot;
    )
    println( v )

    e = Estimator( &quot;cler&quot; )

    d = Data( e, s, v )

    sol = grumps!( e, d )

    println( sol )

    Save( &quot;myresults.csv&quot;, sol )
end

myprogram()</code></pre><p>To see what is happening in the code, consider the function myprogram.  It first describes where data on consumers, products, market sizes, and random draws can be found.  This happens in the <code>Sources</code> call. In this example, all sources are files, but DataFrames are ok, also.  In addition, not all sources are needed for all estimators and options.  Indeed, only products data are required.  </p><div class="admonition is-success"><header class="admonition-header">Understanding data layout</header><div class="admonition-body"><p>See <a href="../spreadsheet/#Spreadsheet-formats">Spreadsheet formats</a> for documentation of the spreadsheet formats.</p></div></div><p>The utility specification for this example is, </p><p class="math-container">\[u_{ijm} = \sum_k z_{imk} x_{jmk} \theta_k^z + \sum_k \nu_{imk} x_{jmk} \theta_k^\nu + \delta_{jm} + \epsilon_{ijm},\]</p><p>where <span>$z$</span> are demographics, <span>$x$</span> are product level variables and <span>$\nu$</span> are unobserved consumer heterogeneity (random coefficients).</p><p><code>Variables</code> describes what variables to include.  The precise variables included in demographics are specified in the first column of the matrix <code>interactions</code> and the product variables are included in the second. Random coefficients are on products specified by the <code>randomcoefficients</code> vector. Finally, the product characteristics included in <span>$\delta$</span> are specified in the <code>regressors</code> vector. Instruments to include in the product level moments are specified in the <code>instruments</code> vector.</p><p>Variables are denoted by symbols corresponding to column headings of the provided spreadsheets or dataframes.  There are two different but equivalent versions of the <code>Variables</code> method: the only difference is the syntax to accommodate users&#39; preferences.  The example here covers only one version. In this case, there are three interactions between demographic characteristics (in the first column) and product characteristics (in the second column).  </p><p>In this particular example, <code>:income</code> and <code>:age</code> reference variables provided in the <code>consumers</code> and <code>draws</code> data, while <code>:abv</code> and <code>:ibu</code> appear in the <code>products</code> dataset. The outside good product uses the value &quot;outside&quot; in the <code>:choice</code> column of the <code>consumers</code> dataset.  <code>:choice</code> is a default name, which can be overridden using the option <code>choice</code>; <code>share</code>, <code>product</code>, and <code>marketsize</code> are likewise default names for share, product, and market size column headings in the product, product, and market size data sets respectively. Finally each observation in every dataset must be assigned to a market, so each must include a market identifier column whose default name is <code>market</code> (this can be overidden using the option <code>market</code>).</p><p>There are moreover random coefficients on the ibu and abv variables.  The product-level regressors and instruments that go into <span>$\hat \Pi$</span> are also entered.  Finally, the outsidegood argument indicates which value in the consumers spreadsheet is used to indicate that a product is the outside good.  There are many other choices; please see <a href="../objects/#Grumps.Variables-Tuple{}"><code>Variables()</code></a> in the <a href="../objects/#User-Interface">User Interface</a> section.</p><div class="admonition is-success"><header class="admonition-header">Objects can be printed</header><div class="admonition-body"><p>Most variables with data types created by Grumps can be printed.  For instance, the <code>println( v )</code> line tells Grumps to print the variable <code>v</code>, which in this case contains information about the specification. <code>println( d )</code> works too after the <code>Data</code> call.</p></div></div><p>It then tells Grumps that it wants to use the full Grumps maximum likelihood estimator with penalized deviations from the macro moments in <a href="../objects/#Grumps.Estimator-Tuple{String}"><code>Estimator()</code></a>.  You could also have entered another descriptive string; <strong>Grumps</strong> is good at figuring out what you want.  Or you can use a symbol, like :cler.  In the <code>Data</code> call, it reads the data needed from the sources indicated in the <code>Sources</code> call using the information specified in the <code>Variables</code> call.</p><p>The <code>grumps!</code> call then asks Grumps to compute the estimates.  The exclamation mark (<code>bang</code>) signifies that <code>grumps!</code> can change its arguments (this is standard Julia custom). <code>grumps!</code> uses this functionality to return internally specified options when called with the defaults. </p><p>Finally, <code>Save</code> saves the results to disk, in this case to a CSV file, but other formats are possible, also.  And the results can of course be printed, also, as the above program demonstrates.</p><p>Note that there are many other options and calls.  The main ones are described in the <a href="../objects/#User-Interface">User Interface</a> tab.</p><div class="admonition is-success"><header class="admonition-header">Getting help</header><div class="admonition-body"><p>To get help on a command, simply load Grumps in the REPL and type e.g.</p><pre><code class="nohighlight hljs">julia&gt; ?Variables</code></pre></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../estimators/">« Estimators</a><a class="docs-footer-nextpage" href="../objects/">User interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 20 July 2023 22:32">Thursday 20 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
